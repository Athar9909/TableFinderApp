"use strict";(self.webpackChunktable_finder=self.webpackChunktable_finder||[]).push([[73],{9073:function(i,e,n){n.r(e);var s=n(4165),a=n(5861),l=n(9439),d=n(2791),c=n(7689),o=n(6977),t=n(326),r=n(1830),u=n.n(r),v=n(184);e.default=function(){var i,e,r,m,x,h,p,j,N=(0,d.useState)(!0),f=(0,l.Z)(N,2),_=f[0],b=f[1],y=(0,c.s0)(),g=(0,d.useState)([]),w=(0,l.Z)(g,2),I=w[0],k=w[1],C=(0,d.useState)([]),O=(0,l.Z)(C,2),Z=O[0],S=(O[1],localStorage.getItem("tableId")),E=(0,d.useState)([]),P=(0,l.Z)(E,2),q=P[0],G=(P[1],(0,d.useState)([])),T=(0,l.Z)(G,2),A=T[0],D=(T[1],(0,d.useState)(!1)),B=(0,l.Z)(D,2),z=B[0],F=B[1];(0,d.useEffect)((function(){R()}),[]);var L=localStorage.getItem("tableId"),R=function(){return(i=i||(0,a.Z)((0,s.Z)().mark((function i(){var e,n,a,l,d,c;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,o.iS)(S);case 2:e=i.sent,null!==(n=e.data)&&void 0!==n&&n.error||(c=null===n||void 0===n||null===(a=n.results)||void 0===a||null===(l=a.cart)||void 0===l?void 0:l.cuisines,k(null===n||void 0===n||null===(d=n.results)||void 0===d?void 0:d.cart),F(!1),null!==c&&void 0!==c&&c.length||(u().fire({title:"Your Cart is Empty!",text:"Click to Continue to Order!.",timer:5e3,confirmButtonText:"Go Home",confirmButtonColor:"#ff7a00"}),y("/".concat(L))));case 5:case"end":return i.stop()}}),i)})))).apply(this,arguments)};console.log(A,"adddon");var Y=function(i,n){return(e=e||(0,a.Z)((0,s.Z)().mark((function i(e,n){var a,l;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return F(!0),i.next=3,(0,o.GR)({tableId:S,cuisineId:e,quantity:n});case 3:a=i.sent,null!==(l=a.data)&&void 0!==l&&l.error||R(),setTimeout((function(){F(!1)}),[4e3]);case 7:case"end":return i.stop()}}),i)})))).apply(this,arguments)},H=function(){return(r=r||(0,a.Z)((0,s.Z)().mark((function i(){var e,n,a,l,d;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,o.Jd)({price:null===I||void 0===I?void 0:I.total});case 2:e=i.sent,null!==(n=e.data)&&void 0!==n&&n.error||(localStorage.setItem("paymentId",null===n||void 0===n||null===(a=n.results)||void 0===a?void 0:a.id),d={tableId:S,cuisines:null===I||void 0===I?void 0:I.cuisines,type:_?"Take Away":"Dining",total:null===I||void 0===I?void 0:I.total,id:null===n||void 0===n||null===(l=n.results)||void 0===l?void 0:l.id},y("/app/home/review",{state:d}));case 5:case"end":return i.stop()}}),i)})))).apply(this,arguments)},J=function(i,e){return(m=m||(0,a.Z)((0,s.Z)().mark((function i(e,n){var a,l,d,c;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return F(!0),d=[],null===I||void 0===I||null===(a=I.cuisines)||void 0===a||null===(l=a.addOns)||void 0===l||l.map((function(i,e){null!==i&&void 0!==i&&i.optionId&&d.push({addOnId:null===i||void 0===i?void 0:i._id,option:null===i||void 0===i?void 0:i.optionId})})),i.next=5,(0,o.GR)({tableId:L,cuisineId:e,quantity:n});case 5:c=i.sent,c.data.error||R(),setTimeout((function(){F(!1)}),[4e3]);case 9:case"end":return i.stop()}}),i)})))).apply(this,arguments)};console.log(q);var X=function(i,e){return(x=x||(0,a.Z)((0,s.Z)().mark((function i(e,n){var a,l,d,c;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return F(!0),d=[],null===I||void 0===I||null===(a=I.cuisines)||void 0===a||null===(l=a.addOns)||void 0===l||l.map((function(i,e){null!==i&&void 0!==i&&i.optionId&&d.push({addOnId:null===i||void 0===i?void 0:i._id,option:null===i||void 0===i?void 0:i.optionId})})),i.next=5,(0,o.Xp)({tableId:L,cuisineId:e,quantity:1,price:n,addOns:d});case 5:c=i.sent,c.data.error||R(),setTimeout((function(){F(!1)}),[4e3]);case 9:case"end":return i.stop()}}),i)})))).apply(this,arguments)};return(0,v.jsx)("div",{children:(null===I||void 0===I||null===(h=I.cuisines)||void 0===h?void 0:h.length)>0?(0,v.jsx)(v.Fragment,{children:_?(0,v.jsxs)("div",{className:"app_main",children:[z&&(0,v.jsx)("div",{class:"loading",children:"Loading\u2026"}),(0,v.jsxs)("div",{className:"cart_screen comman_space overflow-hidden",children:[(0,v.jsxs)("div",{className:"row top_bar pb-3 align-items-center",children:[(0,v.jsx)("div",{className:"col-2",children:(0,v.jsx)("a",{className:"back_btn",children:(0,v.jsx)("img",{onClick:function(){y(-1)},src:n(5178),alt:""})})}),(0,v.jsx)("div",{className:"col text-center",children:(0,v.jsx)("div",{className:"head_comman",children:"Your Cart"})}),(0,v.jsx)("div",{className:"col-2"})]}),(0,v.jsx)("div",{className:"row cart_product",children:(0,v.jsx)("div",{className:"col-12",children:null===I||void 0===I||null===(p=I.cuisines)||void 0===p?void 0:p.map((function(i,e){var s,a,l,d;return(0,v.jsxs)("div",{className:"row Breakfast_single align-items-center",children:[(0,v.jsx)("div",{className:"col",children:(0,v.jsxs)("div",{className:"menu_card_data fs-4",children:[(0,v.jsx)("h2",{children:null===i||void 0===i||null===(s=i.cuisineId)||void 0===s?void 0:s.name}),(0,v.jsxs)("span",{children:["EGP ",null===i||void 0===i?void 0:i.total]})]})}),(0,v.jsx)("div",{className:"px-0 col-auto",children:(0,v.jsxs)("div",{className:"quantity_box",children:[(0,v.jsx)("span",{onClick:function(){var e;return J(null===i||void 0===i||null===(e=i.cuisineId)||void 0===e?void 0:e._id,1)},children:"-"}),(0,v.jsx)("button",{className:"bg-white border rounded m-2",children:null===i||void 0===i?void 0:i.quantity}),(0,v.jsx)("span",{onClick:function(){var e;return X(null===i||void 0===i||null===(e=i.cuisineId)||void 0===e?void 0:e._id,null===i||void 0===i?void 0:i.price)},children:"+"})]},Z)}),(0,v.jsx)("div",{className:"col-auto",children:(0,v.jsxs)("div",{className:"menu_product position-relative",children:[(0,v.jsx)("img",{className:"mp_img",src:null!==i&&void 0!==i&&null!==(a=i.cuisineId)&&void 0!==a&&a.image?null===i||void 0===i||null===(l=i.cuisineId)||void 0===l?void 0:l.image:n(9861),alt:""}),(0,v.jsx)("a",{className:"add_product shadow",onClick:function(){var e;y("/app/home/add-product/".concat(null===i||void 0===i||null===(e=i.cuisineId)||void 0===e?void 0:e._id))},children:(0,v.jsx)("img",{src:n(5682),alt:""})})]})}),(0,v.jsx)("div",{className:"col-auto",children:(0,v.jsx)("div",{className:"menu_product position-relative",children:(0,v.jsx)("i",{className:"fa fa-trash",onClick:function(){var e;Y(null===i||void 0===i||null===(e=i.cuisineId)||void 0===e?void 0:e._id,null===i||void 0===i?void 0:i.quantity)}})})}),(0,v.jsx)("div",{className:"col-12",children:(0,v.jsx)("span",{className:"d-flex",children:null===i||void 0===i||null===(d=i.addOns)||void 0===d?void 0:d.map((function(i){var e,n;return(0,v.jsxs)("h5",{style:{fontSize:"10px"},children:[(null===i||void 0===i||null===(e=i.addOnId)||void 0===e?void 0:e.name)+"-"+(null===i||void 0===i||null===(n=i.option)||void 0===n?void 0:n.name),","]})}))})})]})}))})}),(0,v.jsx)("div",{className:"main_head my-3",children:"Summary"}),(0,v.jsx)("div",{className:"row promo_codepart",children:(0,v.jsx)("div",{className:"col-12 ",children:(0,v.jsx)("div",{className:"accordion",id:"accordionExample",children:(0,v.jsxs)("div",{className:"accordion-item",children:[(0,v.jsx)("h2",{className:"accordion-header",id:"headingOne",children:(0,v.jsxs)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:[(0,v.jsx)("img",{src:n(2829),alt:""})," ","Promo Code"]})}),(0,v.jsx)("div",{id:"collapseOne",className:"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:(0,v.jsx)("div",{className:"accordion-body",children:(0,v.jsx)("form",{action:"",children:(0,v.jsxs)("div",{className:"form-group position-relative",children:[(0,v.jsx)("input",{type:"text",className:"form-control shadow-none",placeholder:"Enter Promo Code"}),(0,v.jsx)("button",{className:"apply_btn",children:"Apply"})]})})})})]})})})}),(0,v.jsx)("div",{className:"row summary_part py-2",children:(0,v.jsx)("div",{className:"col-12",children:(0,v.jsxs)("div",{className:"row py-1",children:[(0,v.jsx)("div",{className:"col-6",children:(0,v.jsx)("div",{className:"summary_text",children:"Subtotal"})}),(0,v.jsx)("div",{className:"col-6",children:(0,v.jsxs)("div",{className:"summary_text text-end",children:["EGP ",null===I||void 0===I?void 0:I.total]})})]})})}),(0,v.jsxs)("div",{className:"row summary_total",children:[(0,v.jsx)("div",{className:"col-12 pb-3",children:(0,v.jsxs)("div",{className:"row py-3",children:[(0,v.jsx)("div",{className:"col-6",children:(0,v.jsx)("div",{className:"total_count",children:"Total"})}),(0,v.jsx)("div",{className:"col-6",children:(0,v.jsxs)("div",{className:"total_count text-end",children:[" ","EGP ",null===I||void 0===I?void 0:I.total]})})]})}),(0,v.jsxs)("div",{className:"col-12 mb-5 d-flex align-items-center twooptions_btns justify-content-center",children:[(0,v.jsx)("a",{onClick:function(){b(!_)},className:"comman_btn shadow-none active text-decoration-none",children:"Dine In"}),(0,v.jsx)("a",{onClick:function(){b(!0)},className:"comman_btn shadow-none text-decoration-none",children:"Take Away"})]}),(0,v.jsx)("div",{className:"col-12 pb-3",children:(0,v.jsx)("a",{className:"comman_btn text-decoration-none",onClick:function(){H()},children:"Checkout"})})]})]})]}):(0,v.jsxs)("div",{className:"app_main",children:[z&&(0,v.jsx)("div",{class:"loading",children:"Loading\u2026"}),(0,v.jsxs)("div",{className:"checkout comman_space overflow-hidden",children:[(0,v.jsxs)("div",{className:"row top_bar py-3 align-items-center",children:[(0,v.jsx)("div",{className:"col-2",children:(0,v.jsx)("a",{className:"back_btn",children:(0,v.jsx)("img",{src:n(5178),alt:""})})}),(0,v.jsx)("div",{className:"col text-center",children:(0,v.jsx)("div",{className:"head_comman",children:"Order Details"})}),(0,v.jsx)("div",{className:"col-2"})]}),(0,v.jsx)("div",{className:"row show_status",children:(0,v.jsx)("div",{className:"col-12",children:(0,v.jsx)("h2",{children:"Dine In"})})}),(0,v.jsx)("div",{className:"row cart_product",children:(0,v.jsx)("div",{className:"col-12",children:null===I||void 0===I||null===(j=I.cuisines)||void 0===j?void 0:j.map((function(i,e){var s,a,l,d;return(0,v.jsxs)("div",{className:"row Breakfast_single align-items-center",children:[(0,v.jsx)("div",{className:"col",children:(0,v.jsxs)("div",{className:"menu_card_data fs-4",children:[(0,v.jsx)("h2",{children:null===i||void 0===i||null===(s=i.cuisineId)||void 0===s?void 0:s.name}),(0,v.jsxs)("span",{children:["EGP ",null===i||void 0===i?void 0:i.total]})]})}),(0,v.jsx)("div",{className:"px-0 col-auto",children:(0,v.jsxs)("div",{className:"quantity_box",children:[(0,v.jsx)("span",{onClick:function(){var e;return J(null===i||void 0===i||null===(e=i.cuisineId)||void 0===e?void 0:e._id,1)},children:"-"}),(0,v.jsx)("button",{className:"bg-white border rounded m-2",children:null===i||void 0===i?void 0:i.quantity}),(0,v.jsx)("span",{onClick:function(){var e;return X(null===i||void 0===i||null===(e=i.cuisineId)||void 0===e?void 0:e._id,null===i||void 0===i?void 0:i.price)},children:"+"})]},Z)}),(0,v.jsx)("div",{className:"col-auto",children:(0,v.jsxs)("div",{className:"menu_product position-relative",children:[(0,v.jsx)("img",{className:"mp_img",src:null!==i&&void 0!==i&&null!==(a=i.cuisineId)&&void 0!==a&&a.image?null===i||void 0===i||null===(l=i.cuisineId)||void 0===l?void 0:l.image:n(9861),alt:""}),(0,v.jsx)("a",{className:"add_product shadow",onClick:function(){var e;y("/app/home/add-product/".concat(null===i||void 0===i||null===(e=i.cuisineId)||void 0===e?void 0:e._id))},children:(0,v.jsx)("img",{src:n(5682),alt:""})})]})}),(0,v.jsx)("div",{className:"col-auto",children:(0,v.jsx)("div",{className:"menu_product position-relative",children:(0,v.jsx)("i",{className:"fa fa-trash",onClick:function(){var e;Y(null===i||void 0===i||null===(e=i.cuisineId)||void 0===e?void 0:e._id,null===i||void 0===i?void 0:i.quantity)}})})}),(0,v.jsx)("div",{className:"col-12",children:(0,v.jsx)("span",{className:"d-flex",children:null===i||void 0===i||null===(d=i.addOns)||void 0===d?void 0:d.map((function(i){var e,n;return(0,v.jsxs)("h5",{style:{fontSize:"10px"},children:[(null===i||void 0===i||null===(e=i.addOnId)||void 0===e?void 0:e.name)+"-"+(null===i||void 0===i||null===(n=i.option)||void 0===n?void 0:n.name),","]})}))})})]})}))})}),(0,v.jsx)("div",{className:"main_head my-3",children:"Summary"}),(0,v.jsx)("div",{className:"row promo_codepart",children:(0,v.jsx)("div",{className:"col-12 ",children:(0,v.jsx)("div",{className:"accordion",id:"accordionExample",children:(0,v.jsxs)("div",{className:"accordion-item",children:[(0,v.jsx)("h2",{className:"accordion-header",id:"headingOne",children:(0,v.jsxs)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:[(0,v.jsx)("img",{src:n(2829),alt:""})," ","Promo Code"]})}),(0,v.jsx)("div",{id:"collapseOne",className:"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:(0,v.jsx)("div",{className:"accordion-body",children:(0,v.jsx)("form",{action:"",children:(0,v.jsxs)("div",{className:"form-group position-relative",children:[(0,v.jsx)("input",{type:"text",className:"form-control shadow-none",placeholder:"Enter Promo Code"}),(0,v.jsx)("button",{className:"apply_btn",children:"Apply"})]})})})})]})})})}),(0,v.jsx)("div",{className:"row summary_part py-2",children:(0,v.jsx)("div",{className:"col-12",children:(0,v.jsxs)("div",{className:"row py-1",children:[(0,v.jsx)("div",{className:"col-6",children:(0,v.jsx)("div",{className:"summary_text",children:"Subtotal"})}),(0,v.jsx)("div",{className:"col-6",children:(0,v.jsxs)("div",{className:"summary_text text-end",children:["EGP ",null===I||void 0===I?void 0:I.total]})})]})})}),(0,v.jsx)("div",{className:"row summary_total",children:(0,v.jsx)("div",{className:"col-12",children:(0,v.jsxs)("div",{className:"row py-3",children:[(0,v.jsx)("div",{className:"col-6",children:(0,v.jsx)("div",{className:"total_count",children:"Total"})}),(0,v.jsx)("div",{className:"col-6",children:(0,v.jsxs)("div",{className:"total_count text-end",children:["EGP ",null===I||void 0===I?void 0:I.total]})})]})})}),(0,v.jsxs)("div",{className:"col-12 mb-5 d-flex align-items-center twooptions_btns justify-content-center",children:[(0,v.jsx)("a",{onClick:function(){b(!_)},className:"comman_btn shadow-none  text-decoration-none",children:"Dine In"}),(0,v.jsx)("a",{onClick:function(){b(!0)},className:"comman_btn shadow-none active text-decoration-none",children:"Take Away"})]}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-12 mb-4",children:(0,v.jsx)("a",{className:"comman_btn text-decoration-none",onClick:function(){H()},children:"Place Order"})})})]})]})}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(t.Z,{})})})}}}]);
//# sourceMappingURL=73.ec142600.chunk.js.map