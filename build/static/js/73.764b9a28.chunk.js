"use strict";(self.webpackChunktable_finder=self.webpackChunktable_finder||[]).push([[73],{9073:function(i,e,n){n.r(e);var s=n(4165),a=n(5861),l=n(9439),d=n(2791),c=n(7689),o=n(6977),t=n(326),r=n(184);e.default=function(){var i,e,u,v,m,x,h,p,j=(0,d.useState)(!0),N=(0,l.Z)(j,2),f=N[0],_=N[1],b=(0,c.s0)(),y=(0,d.useState)([]),g=(0,l.Z)(y,2),w=g[0],I=g[1],k=(0,d.useState)([]),C=(0,l.Z)(k,2),Z=C[0],O=(C[1],localStorage.getItem("tableId")),S=(0,d.useState)([]),E=(0,l.Z)(S,2),P=E[0],q=(E[1],(0,d.useState)([])),G=(0,l.Z)(q,2),T=G[0],A=(G[1],(0,d.useState)(!1)),D=(0,l.Z)(A,2),z=D[0],B=D[1];(0,d.useEffect)((function(){L()}),[]);var F=localStorage.getItem("tableId"),L=function(){return(i=i||(0,a.Z)((0,s.Z)().mark((function i(){var e,n,a,l,d;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,o.iS)(O);case 2:e=i.sent,null!==(n=e.data)&&void 0!==n&&n.error||(null===n||void 0===n||null===(a=n.results)||void 0===a||null===(l=a.cart)||void 0===l?void 0:l.cuisines,I(null===n||void 0===n||null===(d=n.results)||void 0===d?void 0:d.cart),B(!1));case 5:case"end":return i.stop()}}),i)})))).apply(this,arguments)};console.log(T,"adddon");var R=function(i,n){return(e=e||(0,a.Z)((0,s.Z)().mark((function i(e,n){var a,l;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return B(!0),i.next=3,(0,o.GR)({tableId:O,cuisineId:e,quantity:n});case 3:a=i.sent,null!==(l=a.data)&&void 0!==l&&l.error||L(),setTimeout((function(){B(!1)}),[4e3]);case 7:case"end":return i.stop()}}),i)})))).apply(this,arguments)},J=function(){return(u=u||(0,a.Z)((0,s.Z)().mark((function i(){var e,n,a,l,d;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,o.Jd)({price:null===w||void 0===w?void 0:w.total});case 2:e=i.sent,null!==(n=e.data)&&void 0!==n&&n.error||(localStorage.setItem("paymentId",null===n||void 0===n||null===(a=n.results)||void 0===a?void 0:a.id),d={tableId:O,cuisines:null===w||void 0===w?void 0:w.cuisines,type:f?"Take Away":"Dining",total:null===w||void 0===w?void 0:w.total,id:null===n||void 0===n||null===(l=n.results)||void 0===l?void 0:l.id},b("/app/home/review",{state:d}));case 5:case"end":return i.stop()}}),i)})))).apply(this,arguments)},X=function(i,e){return(v=v||(0,a.Z)((0,s.Z)().mark((function i(e,n){var a,l,d,c;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return B(!0),d=[],null===w||void 0===w||null===(a=w.cuisines)||void 0===a||null===(l=a.addOns)||void 0===l||l.map((function(i,e){null!==i&&void 0!==i&&i.optionId&&d.push({addOnId:null===i||void 0===i?void 0:i._id,option:null===i||void 0===i?void 0:i.optionId})})),i.next=5,(0,o.GR)({tableId:F,cuisineId:e,quantity:n});case 5:c=i.sent,c.data.error||L(),setTimeout((function(){B(!1)}),[4e3]);case 9:case"end":return i.stop()}}),i)})))).apply(this,arguments)};console.log(P);var Y=function(i,e){return(m=m||(0,a.Z)((0,s.Z)().mark((function i(e,n){var a,l,d,c;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return B(!0),d=[],null===w||void 0===w||null===(a=w.cuisines)||void 0===a||null===(l=a.addOns)||void 0===l||l.map((function(i,e){null!==i&&void 0!==i&&i.optionId&&d.push({addOnId:null===i||void 0===i?void 0:i._id,option:null===i||void 0===i?void 0:i.optionId})})),i.next=5,(0,o.Xp)({tableId:F,cuisineId:e,quantity:1,price:n,addOns:d});case 5:c=i.sent,c.data.error||L(),setTimeout((function(){B(!1)}),[4e3]);case 9:case"end":return i.stop()}}),i)})))).apply(this,arguments)};return(0,r.jsx)("div",{children:(null===w||void 0===w||null===(x=w.cuisines)||void 0===x?void 0:x.length)>0?(0,r.jsx)(r.Fragment,{children:f?(0,r.jsxs)("div",{className:"app_main",children:[z&&(0,r.jsx)("div",{class:"loading",children:"Loading\u2026"}),(0,r.jsxs)("div",{className:"cart_screen comman_space overflow-hidden",children:[(0,r.jsxs)("div",{className:"row top_bar pb-3 align-items-center",children:[(0,r.jsx)("div",{className:"col-2",children:(0,r.jsx)("a",{className:"back_btn",children:(0,r.jsx)("img",{onClick:function(){b(-1)},src:n(5178),alt:""})})}),(0,r.jsx)("div",{className:"col text-center",children:(0,r.jsx)("div",{className:"head_comman",children:"Your Cart"})}),(0,r.jsx)("div",{className:"col-2"})]}),(0,r.jsx)("div",{className:"row cart_product",children:(0,r.jsx)("div",{className:"col-12",children:null===w||void 0===w||null===(h=w.cuisines)||void 0===h?void 0:h.map((function(i,e){var s,a,l,d;return(0,r.jsxs)("div",{className:"row Breakfast_single align-items-center",children:[(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("div",{className:"menu_card_data fs-4",children:[(0,r.jsx)("h2",{children:null===i||void 0===i||null===(s=i.cuisineId)||void 0===s?void 0:s.name}),(0,r.jsxs)("span",{children:["EGP ",null===i||void 0===i?void 0:i.total]})]})}),(0,r.jsx)("div",{className:"px-0 col-auto",children:(0,r.jsxs)("div",{className:"quantity_box",children:[(0,r.jsx)("span",{onClick:function(){var e;return X(null===i||void 0===i||null===(e=i.cuisineId)||void 0===e?void 0:e._id,1)},children:"-"}),(0,r.jsx)("button",{className:"bg-white border rounded m-2",children:null===i||void 0===i?void 0:i.quantity}),(0,r.jsx)("span",{onClick:function(){var e;return Y(null===i||void 0===i||null===(e=i.cuisineId)||void 0===e?void 0:e._id,null===i||void 0===i?void 0:i.price)},children:"+"})]},Z)}),(0,r.jsx)("div",{className:"col-auto",children:(0,r.jsxs)("div",{className:"menu_product position-relative",children:[(0,r.jsx)("img",{className:"mp_img",src:null!==i&&void 0!==i&&null!==(a=i.cuisineId)&&void 0!==a&&a.image?null===i||void 0===i||null===(l=i.cuisineId)||void 0===l?void 0:l.image:n(9861),alt:""}),(0,r.jsx)("a",{className:"add_product shadow",onClick:function(){var e;b("/app/home/add-product/".concat(null===i||void 0===i||null===(e=i.cuisineId)||void 0===e?void 0:e._id))},children:(0,r.jsx)("img",{src:n(5682),alt:""})})]})}),(0,r.jsx)("div",{className:"col-auto",children:(0,r.jsx)("div",{className:"menu_product position-relative",children:(0,r.jsx)("i",{className:"fa fa-trash",onClick:function(){var e;R(null===i||void 0===i||null===(e=i.cuisineId)||void 0===e?void 0:e._id,null===i||void 0===i?void 0:i.quantity)}})})}),(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)("span",{className:"d-flex",children:null===i||void 0===i||null===(d=i.addOns)||void 0===d?void 0:d.map((function(i){var e,n;return(0,r.jsxs)("h5",{style:{fontSize:"10px"},children:[(null===i||void 0===i||null===(e=i.addOnId)||void 0===e?void 0:e.name)+"-"+(null===i||void 0===i||null===(n=i.option)||void 0===n?void 0:n.name),","]})}))})})]})}))})}),(0,r.jsx)("div",{className:"main_head my-3",children:"Summary"}),(0,r.jsx)("div",{className:"row promo_codepart",children:(0,r.jsx)("div",{className:"col-12 ",children:(0,r.jsx)("div",{className:"accordion",id:"accordionExample",children:(0,r.jsxs)("div",{className:"accordion-item",children:[(0,r.jsx)("h2",{className:"accordion-header",id:"headingOne",children:(0,r.jsxs)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:[(0,r.jsx)("img",{src:n(2829),alt:""})," ","Promo Code"]})}),(0,r.jsx)("div",{id:"collapseOne",className:"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:(0,r.jsx)("div",{className:"accordion-body",children:(0,r.jsx)("form",{action:"",children:(0,r.jsxs)("div",{className:"form-group position-relative",children:[(0,r.jsx)("input",{type:"text",className:"form-control shadow-none",placeholder:"Enter Promo Code"}),(0,r.jsx)("button",{className:"apply_btn",children:"Apply"})]})})})})]})})})}),(0,r.jsx)("div",{className:"row summary_part py-2",children:(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"row py-1",children:[(0,r.jsx)("div",{className:"col-6",children:(0,r.jsx)("div",{className:"summary_text",children:"Subtotal"})}),(0,r.jsx)("div",{className:"col-6",children:(0,r.jsxs)("div",{className:"summary_text text-end",children:["EGP ",null===w||void 0===w?void 0:w.total]})})]})})}),(0,r.jsxs)("div",{className:"row summary_total",children:[(0,r.jsx)("div",{className:"col-12 pb-3",children:(0,r.jsxs)("div",{className:"row py-3",children:[(0,r.jsx)("div",{className:"col-6",children:(0,r.jsx)("div",{className:"total_count",children:"Total"})}),(0,r.jsx)("div",{className:"col-6",children:(0,r.jsxs)("div",{className:"total_count text-end",children:[" ","EGP ",null===w||void 0===w?void 0:w.total]})})]})}),(0,r.jsxs)("div",{className:"col-12 mb-5 d-flex align-items-center twooptions_btns justify-content-center",children:[(0,r.jsx)("a",{onClick:function(){_(!f)},className:"comman_btn shadow-none active text-decoration-none",children:"Dine In"}),(0,r.jsx)("a",{onClick:function(){_(!0)},className:"comman_btn shadow-none text-decoration-none",children:"Take Away"})]}),(0,r.jsx)("div",{className:"col-12 pb-3",children:(0,r.jsx)("a",{className:"comman_btn text-decoration-none",onClick:function(){J()},children:"Checkout"})})]})]})]}):(0,r.jsxs)("div",{className:"app_main",children:[z&&(0,r.jsx)("div",{class:"loading",children:"Loading\u2026"}),(0,r.jsxs)("div",{className:"checkout comman_space overflow-hidden",children:[(0,r.jsxs)("div",{className:"row top_bar py-3 align-items-center",children:[(0,r.jsx)("div",{className:"col-2",children:(0,r.jsx)("a",{className:"back_btn",children:(0,r.jsx)("img",{src:n(5178),alt:""})})}),(0,r.jsx)("div",{className:"col text-center",children:(0,r.jsx)("div",{className:"head_comman",children:"Order Details"})}),(0,r.jsx)("div",{className:"col-2"})]}),(0,r.jsx)("div",{className:"row show_status",children:(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)("h2",{children:"Dine In"})})}),(0,r.jsx)("div",{className:"row cart_product",children:(0,r.jsx)("div",{className:"col-12",children:null===w||void 0===w||null===(p=w.cuisines)||void 0===p?void 0:p.map((function(i,e){var s,a,l,d;return(0,r.jsxs)("div",{className:"row Breakfast_single align-items-center",children:[(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("div",{className:"menu_card_data fs-4",children:[(0,r.jsx)("h2",{children:null===i||void 0===i||null===(s=i.cuisineId)||void 0===s?void 0:s.name}),(0,r.jsxs)("span",{children:["EGP ",null===i||void 0===i?void 0:i.total]})]})}),(0,r.jsx)("div",{className:"px-0 col-auto",children:(0,r.jsxs)("div",{className:"quantity_box",children:[(0,r.jsx)("span",{onClick:function(){var e;return X(null===i||void 0===i||null===(e=i.cuisineId)||void 0===e?void 0:e._id,1)},children:"-"}),(0,r.jsx)("button",{className:"bg-white border rounded m-2",children:null===i||void 0===i?void 0:i.quantity}),(0,r.jsx)("span",{onClick:function(){var e;return Y(null===i||void 0===i||null===(e=i.cuisineId)||void 0===e?void 0:e._id,null===i||void 0===i?void 0:i.price)},children:"+"})]},Z)}),(0,r.jsx)("div",{className:"col-auto",children:(0,r.jsxs)("div",{className:"menu_product position-relative",children:[(0,r.jsx)("img",{className:"mp_img",src:null!==i&&void 0!==i&&null!==(a=i.cuisineId)&&void 0!==a&&a.image?null===i||void 0===i||null===(l=i.cuisineId)||void 0===l?void 0:l.image:n(9861),alt:""}),(0,r.jsx)("a",{className:"add_product shadow",onClick:function(){var e;b("/app/home/add-product/".concat(null===i||void 0===i||null===(e=i.cuisineId)||void 0===e?void 0:e._id))},children:(0,r.jsx)("img",{src:n(5682),alt:""})})]})}),(0,r.jsx)("div",{className:"col-auto",children:(0,r.jsx)("div",{className:"menu_product position-relative",children:(0,r.jsx)("i",{className:"fa fa-trash",onClick:function(){var e;R(null===i||void 0===i||null===(e=i.cuisineId)||void 0===e?void 0:e._id,null===i||void 0===i?void 0:i.quantity)}})})}),(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)("span",{className:"d-flex",children:null===i||void 0===i||null===(d=i.addOns)||void 0===d?void 0:d.map((function(i){var e,n;return(0,r.jsxs)("h5",{style:{fontSize:"10px"},children:[(null===i||void 0===i||null===(e=i.addOnId)||void 0===e?void 0:e.name)+"-"+(null===i||void 0===i||null===(n=i.option)||void 0===n?void 0:n.name),","]})}))})})]})}))})}),(0,r.jsx)("div",{className:"main_head my-3",children:"Summary"}),(0,r.jsx)("div",{className:"row promo_codepart",children:(0,r.jsx)("div",{className:"col-12 ",children:(0,r.jsx)("div",{className:"accordion",id:"accordionExample",children:(0,r.jsxs)("div",{className:"accordion-item",children:[(0,r.jsx)("h2",{className:"accordion-header",id:"headingOne",children:(0,r.jsxs)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:[(0,r.jsx)("img",{src:n(2829),alt:""})," ","Promo Code"]})}),(0,r.jsx)("div",{id:"collapseOne",className:"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:(0,r.jsx)("div",{className:"accordion-body",children:(0,r.jsx)("form",{action:"",children:(0,r.jsxs)("div",{className:"form-group position-relative",children:[(0,r.jsx)("input",{type:"text",className:"form-control shadow-none",placeholder:"Enter Promo Code"}),(0,r.jsx)("button",{className:"apply_btn",children:"Apply"})]})})})})]})})})}),(0,r.jsx)("div",{className:"row summary_part py-2",children:(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"row py-1",children:[(0,r.jsx)("div",{className:"col-6",children:(0,r.jsx)("div",{className:"summary_text",children:"Subtotal"})}),(0,r.jsx)("div",{className:"col-6",children:(0,r.jsxs)("div",{className:"summary_text text-end",children:["EGP ",null===w||void 0===w?void 0:w.total]})})]})})}),(0,r.jsx)("div",{className:"row summary_total",children:(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"row py-3",children:[(0,r.jsx)("div",{className:"col-6",children:(0,r.jsx)("div",{className:"total_count",children:"Total"})}),(0,r.jsx)("div",{className:"col-6",children:(0,r.jsxs)("div",{className:"total_count text-end",children:["EGP ",null===w||void 0===w?void 0:w.total]})})]})})}),(0,r.jsxs)("div",{className:"col-12 mb-5 d-flex align-items-center twooptions_btns justify-content-center",children:[(0,r.jsx)("a",{onClick:function(){_(!f)},className:"comman_btn shadow-none  text-decoration-none",children:"Dine In"}),(0,r.jsx)("a",{onClick:function(){_(!0)},className:"comman_btn shadow-none active text-decoration-none",children:"Take Away"})]}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-12 mb-4",children:(0,r.jsx)("a",{className:"comman_btn text-decoration-none",onClick:function(){J()},children:"Place Order"})})})]})]})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(t.Z,{})})})}}}]);
//# sourceMappingURL=73.764b9a28.chunk.js.map